= link_to product.title, product_path(product)
= link_to image_tag(product.image.thumb, class: "img-responsive"), product_path(product)
= number_to_currency(product.price)

javascript:
  var cf_popular = function(data){
    // jQuery code
    if(data.length > 0) {
      var url = 'categories/store/get_popular_urls';
      $.ajax({
        type: "POST",
        url: 'categories/store/get_popular_urls',
        data: {ids: data, recommender: 'popular'},
      });
      return false;
    }
  };

  var cf_recently_viewed = function(data){
    // jQuery code
    if(data.length > 0) {
      var url = 'get_urls';
      $.ajax({
        type: "POST",
        url: 'get_urls',
        data: {ids: data, recommender: 'recently_viewed'},
      });
      return false;
    }
  };

  var cf_interesting = function(data){
    // jQuery code
    if(data.length > 0) {
      var url = 'get_urls';
      $.ajax({
        type: "POST",
        url: 'get_urls',
        data: {ids: data, recommender: 'interesting'},
      });
      return false;
    }
  };

  function afterInitRees46() {
    REES46.addReadyListener(function () {
      REES46.recommend({
        recommender_type: 'popular',
        category: '#{product.category_id}'
      }, cf_popular );
    });

    REES46.addReadyListener(function () {
      REES46.recommend({
        recommender_type: 'recently_viewed'
      }, cf_recently_viewed);
    });

    REES46.addReadyListener(function () {
      REES46.recommend({
        recommender_type: 'interesting',
        item: '#{product.id}'
      }, cf_interesting);
    });
  }
